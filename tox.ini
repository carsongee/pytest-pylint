[tox]
envlist = py3{6,7,8}-pylint{23,latest,master}-pytest{54,latest,master}
skip_missing_interpreters =
    true
[testenv]
usedevelop = true
deps =
    pylint23: pylint>=2.3,<2.4
    pylintlatest: pylint
    pylintmaster: git+https://github.com/PyCQA/pylint.git@master#egg=pylint
    pylintmaster: git+https://github.com/PyCQA/astroid.git@master#egg=astroid
    pytest23: pytest>=5.4,<5.5
    pytestlatest: pytest
    pytestmaster: git+https://github.com/pytest-dev/pytest.git@master#egg=pytest
    pytest-flake8
    coverage
commands =
    coverage erase
    coverage run -m py.test {posargs}
    coverage report
    coverage html -d htmlcov

[pytest]
addopts = --pylint --flake8
markers = flake8
